<!doctype html>
<html lang="ru">
    <head>
        <meta charset="utf-8">
        <meta name="viewport" content="width=device-width, initial-scale=1">
        <title>{{ page_title }}</title>
        <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha3/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-KK94CHFLLe+nY2dmCWGMq91rCGa5gtU4mk92HdvYe+M/SXH301p5ILy+dN9+nJOZ" crossorigin="anonymous">
    </head>
    <body>
        <div class="container">
            <h1>{{ page_title }}</h1>
            <div class="row">
                <div class="col-8">
                    {% with messages = get_flashed_messages() %}
                        {% if messages %}
                        <div class="alert alert-warning" role="alert">
                            {% for message in messages %}
                                {{ message }}<br>
                            {% endfor %}
                        </div>
                        {% endif %}
                    {% endwith %}
                    <h2>Новости</h2><br>
                    {% for news in news_list %}
                    <h3><a href="{{ news.url }}">{{ news.title }}</a> </h3>
                    <p>{{news.published.strftime('%d.%m.%Y')}}</p>
                    <hr />
                    {% endfor %}
                </div>
                <div class="col-4">
                    <h2>Прогноз погоды</h2>
                    {% if weather %}
                        <h5>{{weather.temp_C}}</h5> Ощущается как {{weather.FeelsLikeC}}
                    {% else %}
                        Сервис погоды временно недоступен
                    {% endif %}
                </div>
            </div>
        </div>
        <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha3/dist/js/bootstrap.bundle.min.js" integrity="sha384-ENjdO4Dr2bkBIFxQpeoTz1HIcje39Wm4jDKdf19U8gI4ddQ3GYNS7NTKfAdVQSZe" crossorigin="anonymous"></script>
    </body>
</html>
